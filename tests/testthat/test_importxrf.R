context("importxrf")

library(xrfr)

test_that("output", {
  a <- importxrf(raw.data = "testdata_rawdata.txt", project.info = "testdata_infofile.xlsx")

  b <- data.frame(Sample = c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10"),
                  Date = c("01.01.2020", "01.01.2020", "01.01.2020", "01.01.2020", "01.01.2020", "01.01.2020", "01.01.2020", "01.01.2020", "01.01.2020", "01.01.2020"),
                  C = c(54.98752, 56.42987, 53.24936, 51.42387, 53.23487, 59.32487, 51.23871, 59.23092, 48.23981, 54.09813),
                  N = c(0.287509, 0.698235, 0.398389, 0.736982, 0.348098, 0.398092, 0.607234, 0.459872, 0.409709, 0.398092),
                  O = c(3.348709, 2.487923, 2.589723, 3.134987, 2.598702, 2.450982, 3.287924, 1.908322, 2.234987, 2.123098),
                  Na = c(0.345987, 0.909342, 1.435098, 1.435873, 1.230395, 0.982345, 1.245985, 0.120985, 1.008234, 1.029341),
                  Mg = c(1.245098, 3.245809, 2.240598, 1.245982, 3.234982, 1.234872, 2.234098, 3.234872, 1.872345, 1.098324),
                  Filter_type = c("PC", "PC", "PC", "PC", "PC", "PC", "PC", "PC", "PC", "PC"),
                  Filter_size = c(0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8),
                  Filter_box_nr = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
                  Filter_blank = c(NA, NA, NA, NA, NA, NA, NA, NA, "blank", "blank"),
                  Volume = c(1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000),
                  Location = c("L1", "L1", "L1", "L1", "L2", "L2", "L2", "L2", NA, NA),
                  Depth = c("10m", "50m", "100m", "200m", "10m", "50m", "100m", "200m", NA, NA))

  expect_s3_class(a, "data.frame")
  expect_identical(dim(a), dim(b))
})
